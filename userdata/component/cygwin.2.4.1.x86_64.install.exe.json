{
  "component": {
    "name": "cygwin",
    "version": "2.4.1",
    "arch": "x86-64",
    "action": "install",
    "provider": "exe"
  },
  "parameters": [
    {
      "name": "sources",
      "value": [
        "https://www.cygwin.com/setup-x86_64.exe"
      ]
    },
    {
      "name": "args",
      "value": [
        "--quiet-mode",
        "--wait",
        "--root",
        "$env:SystemDrive\\cygwin",
        "--site",
        "http://cygwin.mirror.constant.com",
        "--packages",
        "openssh,vim,curl,tar,wget,zip,unzip,diffutils,bzr"
      ]
    },
    {
      "name": "post-install",
      "value": [
        {
          "name": "cygwin-set-home",
          "provider": "bash",
          "settings": {
            "command": "$env:SystemDrive\\cygwin\\bin\\bash.exe",
            "args": [
              "--login",
              "-c"
            ]
          },
          "parameters": [
            {
              "name": "command",
              "value": "mkpasswd"
            },
            {
              "name": "args",
              "value": [
                "-l",
                "-p",
                "$(cygpath -H)",
                ">",
                "/etc/passwd"
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "validations",
      "value": [
        {
          "provider": "powershell-function",
          "parameters": [
            {
              "name": "command",
              "value" "Test-Path"
            },
            {
              "name": "parameters",
              "value": [
                {
                  "name": "Path",
                  "value": [
                    "$env:SystemDrive\\cygwin\\bin\\bash.exe",
                    "$env:SystemDrive\\cygwin\\bin\\cygcheck.exe",
                    "$env:SystemDrive\\cygwin\\bin\\mkpasswd.exe",
                  ]
                },
                {
                  "name": "ErrorAction",
                  "value": "SilentlyContinue"
                }
              ]
            },
            {
              "name": "expect",
              "value": [
                true,
                true,
                true
              ]
            }
          ]
        },
        {
          "provider": "cmd",
          "parameters": [
            {
              "name": "command",
              "value" "$env:SystemDrive\\cygwin\\bin\\cygcheck.exe"
            },
            {
              "name": "args",
              "value": [
                "--version"
              ]
            },
            {
              "name": "expect",
              "value": [
                "cygcheck (cygwin) 2.4.1",
                "System Checker for Cygwin",
                "Copyright (C) 1998 - 2016 Red Hat, Inc.",
                "This is free software; see the source for copying conditions.  There is NO",
                "warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
              ]
            }
          ]
        }
      ]
    }
  ]
}